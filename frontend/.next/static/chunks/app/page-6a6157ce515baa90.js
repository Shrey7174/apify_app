(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{8890:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(5155),l=a(2115),r=a(3464),c=a(692),n=a(5799);function o(e){let{title:t,actors:a,fetchSchema:l}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",style:{color:"#58a6ff"},children:t}),(0,s.jsx)("ul",{className:"space-y-2",children:0===a.length?(0,s.jsx)("li",{className:"italic text-gray-500",children:"No actors found."}):a.map(e=>(0,s.jsxs)("li",{className:"bg-darkSurface border border-gray-600 p-3 flex justify-between items-center rounded",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-lightText",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:e.title})]}),(0,s.jsx)("button",{onClick:()=>l(e.id),className:"px-3 py-1 bg-accentBlue text-black rounded hover:scale-105 transition",children:"Load"})]},e.id))})]})}function i(e){let{actorId:t,input:a,setInput:l,loading:r,runActor:c}=e;return(0,s.jsxs)("div",{className:"bg-darkSurface border border-gray-600 p-6 rounded space-y-4",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold",style:{color:"#58a6ff"},children:["Schema for Actor: ",(0,s.jsx)("span",{className:"text-lightText",children:t})]}),(0,s.jsx)("textarea",{rows:8,value:a,onChange:e=>l(e.target.value),className:"w-full p-3 bg-darkSurface border border-gray-600 rounded font-mono text-sm text-lightText placeholder-gray-400 focus:ring-2 focus:ring-accentBlue",placeholder:'{\n  "key": "value"\n}'}),(0,s.jsx)("button",{onClick:c,disabled:r,className:"px-5 py-2 bg-accentBlue text-black rounded shadow transition hover:scale-105",children:"Run"})]})}a(5716);let d=(0,a(5028).default)(()=>a.e(592).then(a.t.bind(a,9592,23)),{loadableGenerated:{webpack:()=>[9592]},ssr:!1});function u(e){let{result:t,resultRef:a}=e;return(0,s.jsxs)("div",{ref:a,className:"bg-darkSurface border border-green-700 p-6 rounded space-y-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-green-400",children:"Run Result"}),(0,s.jsx)("div",{className:"max-h-[400px] overflow-auto bg-darkBg p-3 rounded",children:(0,s.jsx)(d,{src:t,collapsed:1,theme:"monokai",enableClipboard:!1})})]})}function h(){let[e,t]=(0,l.useState)(""),[a,d]=(0,l.useState)([]),[h,x]=(0,l.useState)([]),[m,f]=(0,l.useState)(null),[b,p]=(0,l.useState)("{}"),[g,y]=(0,l.useState)(null),[j,v]=(0,l.useState)(""),[N,k]=(0,l.useState)(!1),S=(0,l.useRef)(null),w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return n.oR[t](e,{autoClose:3e3})},A="http://localhost:5002",C=async()=>{k(!0);try{var t;let a=await r.A.post("".concat(A,"/api/actors"),{apiKey:e});d((null==(t=a.data.data)?void 0:t.items)||[]),w("My Actors fetched","success")}catch(e){w("Failed to fetch your actors","error"),d([])}finally{k(!1)}},B=async()=>{k(!0);try{var e;let t=await r.A.get("".concat(A,"/api/actors/public"));x((null==(e=t.data.data)?void 0:e.items)||[]),w("Public Actors fetched","success")}catch(e){w("Failed to fetch public actors","error"),x([])}finally{k(!1)}},O=async t=>{k(!0),f(null),p("{}"),y(null);try{let a=await r.A.post("".concat(A,"/api/schema"),{actorId:t,apiKey:e});f(a.data),v(t),w("Schema loaded","success");let s=a.data.inputSchema||{},l=Object.fromEntries(Object.keys(s).map(e=>{let t=s[e].type;return[e,"string"===t?"":"boolean"!==t&&("array"===t?[]:"object"===t?{}:null)]}));p(Object.keys(l).length?JSON.stringify(l,null,2):"{}")}catch(e){w("Failed to load schema","error"),f(null)}finally{k(!1)}},D=async()=>{k(!0);try{let t=JSON.parse(b),a=await r.A.post("".concat(A,"/api/run"),{actorId:j,apiKey:e,input:t});y(a.data),w("Actor run successful","success"),setTimeout(()=>{var e;return null==(e=S.current)?void 0:e.scrollIntoView({behavior:"smooth"})},200)}catch(e){w("Failed to run actor","error"),y(null)}finally{k(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen px-4 py-8 bg-darkBg text-lightText",children:[(0,s.jsx)(n.N9,{}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-center",style:{color:"#58a6ff"},children:"Apify Integration Dashboard"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Apify API Key",value:e,onChange:e=>t(e.target.value),className:"flex-1 px-4 py-2 bg-darkSurface border border-gray-600 rounded text-lightText focus:ring-2 focus:ring-accentBlue"}),(0,s.jsxs)("div",{className:"flex gap-2 mt-1 sm:mt-0",children:[(0,s.jsx)("button",{onClick:C,disabled:N,className:"px-4 py-2 bg-accentGreen hover:bg-green-600 text-white rounded shadow transition hover:scale-105",children:"My Actors"}),(0,s.jsx)("button",{onClick:B,disabled:N,className:"px-4 py-2 bg-accentBlue hover:bg-blue-500 text-white rounded shadow transition hover:scale-105",children:"Public Actors"})]})]}),N&&(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(c.A,{color:"#58a6ff"})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(o,{title:"\uD83C\uDFAD My Actors",actors:a,fetchSchema:O}),(0,s.jsx)(o,{title:"\uD83C\uDF10 Public Actors",actors:h,fetchSchema:O})]}),m&&(0,s.jsx)(i,{actorId:j,input:b,setInput:p,runActor:D,loading:N}),g&&(0,s.jsx)(u,{result:g,resultRef:S})]})]})}},9551:(e,t,a)=>{Promise.resolve().then(a.bind(a,8890))}},e=>{e.O(0,[797,401,441,964,358],()=>e(e.s=9551)),_N_E=e.O()}]);